[gd_scene format=4 uid="uid://u61wbg78dchm"]

[ext_resource type="Script" uid="uid://cwv2mq2qkfq1n" path="res://scripts/gamemanager.gd" id="1_gee14"]
[ext_resource type="PackedScene" uid="uid://cbtvsd6ncchnu" path="res://scenes/player.tscn" id="1_uwrxv"]
[ext_resource type="PackedScene" uid="uid://cgr3hr4aoxcie" path="res://scenes/platform.tscn" id="2_lnu2h"]
[ext_resource type="Texture2D" uid="uid://bsgvl6w20anw6" path="res://assets/sprites/designed sprites/preview.png" id="3_0tnpc"]
[ext_resource type="PackedScene" uid="uid://bvlsp4ic8c1ni" path="res://scenes/killbox.tscn" id="5_iywne"]
[ext_resource type="TileSet" uid="uid://du1ugfw6dcmvc" path="res://scenes/new_tile_set.tres" id="5_p57ef"]
[ext_resource type="PackedScene" uid="uid://d1xvtemgccc6q" path="res://scenes/enemy_1.tscn" id="7_gee14"]
[ext_resource type="PackedScene" uid="uid://4piop10ulqh7" path="res://scenes/spikes.tscn" id="7_kvpfn"]
[ext_resource type="PackedScene" uid="uid://coosthjuy5mjp" path="res://scenes/snake.tscn" id="7_kvuet"]
[ext_resource type="PackedScene" uid="uid://c2k65845130gh" path="res://scenes/snake2.tscn" id="7_trtic"]
[ext_resource type="Script" uid="uid://cwdcyitxxvgn5" path="res://obstacles_hitbox.gd" id="8_dinhu"]
[ext_resource type="PackedScene" uid="uid://dp2iwijpg0wn6" path="res://scenes/enemy_3.tscn" id="10_dinhu"]
[ext_resource type="PackedScene" uid="uid://bhwmhhgq8fgjb" path="res://scenes/enemy_2.tscn" id="10_kvpfn"]
[ext_resource type="PackedScene" path="res://scenes/health_bar.tscn" id="10_vtaks"]
[ext_resource type="PackedScene" path="res://scenes/falling_platform.tscn" id="15_ir15t"]

[sub_resource type="AtlasTexture" id="AtlasTexture_0tnpc"]
atlas = ExtResource("3_0tnpc")
region = Rect2(8.667847, 13.251907, 1862.7582, 1013.18475)

[sub_resource type="Animation" id="Animation_lnu2h"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = false
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(383, -27)]
}

[sub_resource type="Animation" id="Animation_lbhrr"]
resource_name = "move"
length = 2.0
loop_mode = 2
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1.9666667),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(370, -37), Vector2(452, -37)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_iywne"]
_data = {
&"RESET": SubResource("Animation_lnu2h"),
&"move": SubResource("Animation_lbhrr")
}

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_p57ef"]

[sub_resource type="GDScript" id="GDScript_0tnpc"]
script/source = "extends CollisionShape2D


func _on_body_entered(body: Node) -> void:
	if body.is_in_group(\"player\"):
		body.get_node(\"CollisionShape2D\").disabled = true
	elif body.is_in_group(\"enemy\"):
		body.get_node(\"CollisionShape2D\").disabled = true
"

[node name="game" type="Node2D" unique_id=1576081186]

[node name="HealthBar" parent="." unique_id=1365556916 instance=ExtResource("10_vtaks")]

[node name="GameManager" type="Node" parent="." unique_id=2116554109]
unique_name_in_owner = true
script = ExtResource("1_gee14")

[node name="tilemaps" type="Node" parent="." unique_id=664631100]

[node name="background" type="TileMapLayer" parent="tilemaps" unique_id=126019968]
z_index = -1
position = Vector2(-13, -9)
tile_set = ExtResource("5_p57ef")

[node name="Sprite2D" type="Sprite2D" parent="tilemaps/background" unique_id=1161048196]
show_behind_parent = true
position = Vector2(139.00002, -70.00001)
scale = Vector2(0.25990322, 0.2591381)
texture = SubResource("AtlasTexture_0tnpc")

[node name="midground" type="TileMapLayer" parent="tilemaps" unique_id=1551911233]
use_parent_material = true
position = Vector2(-13, -9)
tile_map_data = PackedByteArray("AAAAAAAAAAACAAEAAAAAAAEAAAACAAEAAAAAAAIAAAADAAEAAAAAAAMAAAACAAEAAAABAAAAAAADAAEAAAABAAEAAAACAAEAAAABAAIAAAACAAEAAAABAAMAAAACAAEAAAACAAAAAAACAAEAAAACAAEAAAACAAEAAAACAAIAAAACAAEAAAACAAMAAAADAAEAAAADAAAAAAACAAEAAAADAAEAAAADAAEAAAADAAIAAAACAAEAAAADAAMAAAACAAEAAAAEAAAAAAACAAEAAAAEAAEAAAACAAEAAAAEAAIAAAADAAEAAAAEAAMAAAACAAEAAAAFAAAAAAACAAEAAAAFAAEAAAACAAEAAAAFAAIAAAACAAEAAAAFAAMAAAACAAEAAAAGAAAAAAACAAEAAAAGAAEAAAACAAEAAAAGAAIAAAACAAEAAAAGAAMAAAACAAEAAAAHAAAAAAACAAEAAAAHAAEAAAADAAEAAAAHAAIAAAACAAEAAAAHAAMAAAACAAEAAAAIAAAAAAACAAEAAAAIAAEAAAACAAEAAAAIAAIAAAACAAEAAAAIAAMAAAADAAEAAAAJAAAAAAACAAEAAAAJAAEAAAACAAEAAAAJAAIAAAACAAEAAAAJAAMAAAACAAEAAAAKAAAAAAACAAEAAAAKAAEAAAADAAEAAAAKAAIAAAADAAEAAAAKAAMAAAACAAEAAAALAAAAAAACAAEAAAALAAEAAAACAAEAAAALAAIAAAACAAEAAAALAAMAAAACAAEAAAAMAAAAAAACAAEAAAAMAAEAAAACAAEAAAAMAAIAAAACAAEAAAAMAAMAAAACAAEAAAANAAAAAAACAAEAAAANAAEAAAACAAEAAAANAAIAAAADAAEAAAANAAMAAAACAAEAAAAOAAAAAAACAAEAAAAOAAEAAAADAAEAAAAOAAIAAAACAAEAAAAOAAMAAAACAAEAAAAPAAAAAAACAAEAAAAPAAEAAAADAAEAAAAPAAIAAAACAAEAAAAPAAMAAAACAAEAAAAQAAAAAAACAAEAAAAQAAEAAAACAAEAAAAQAAIAAAACAAEAAAAQAAMAAAACAAEAAAAAAP//AAACAAEAAAAFAP//AAACAAEAAAALAP//AAACAAEAAAD9////AAACAAAAAAD6////AAACAAAAAAD3////AAACAAAAAAD//wAAAAACAAEAAAD+/wAAAAACAAEAAAD9/wAAAAACAAEAAAD8/wAAAAACAAEAAAD7/wAAAAACAAEAAAD6/wEAAAACAAEAAAD5/wEAAAACAAEAAAD4/wEAAAACAAEAAAD4/wAAAAACAAEAAAD3/wAAAAACAAEAAAD5/wAAAAACAAEAAAD3/wEAAAACAAEAAAD3/wIAAAACAAEAAAD4/wIAAAACAAEAAAD5/wIAAAACAAEAAAD6/wIAAAACAAEAAAD6/wMAAAACAAEAAAD7/wMAAAACAAEAAAD8/wMAAAACAAEAAAD9/wMAAAACAAEAAAD+/wMAAAACAAEAAAD//wMAAAACAAEAAAD//wIAAAACAAEAAAD//wEAAAACAAEAAAD+/wEAAAACAAEAAAD9/wEAAAACAAEAAAD8/wEAAAACAAEAAAD7/wEAAAACAAEAAAD7/wIAAAACAAEAAAD8/wIAAAACAAEAAAD9/wIAAAACAAEAAAD+/wIAAAACAAEAAAD5/wMAAAACAAEAAAD4/wMAAAACAAEAAAD3/wMAAAACAAEAAAD6/wAAAAACAAEAAAAQAP//AAACAAAAAAA=")
tile_set = ExtResource("5_p57ef")

[node name="player" parent="." unique_id=526401065 instance=ExtResource("1_uwrxv")]
position = Vector2(-7, -25)

[node name="Camera2D" type="Camera2D" parent="player" unique_id=1105954271]
zoom = Vector2(4, 4)
limit_bottom = 110
limit_smoothed = true
position_smoothing_enabled = true

[node name="platforms" type="Node" parent="." unique_id=421955639]

[node name="platform" parent="platforms" unique_id=892978578 instance=ExtResource("2_lnu2h")]
position = Vector2(96, -57)

[node name="platform2" parent="platforms" unique_id=1101525004 instance=ExtResource("2_lnu2h")]
position = Vector2(383, -27)

[node name="AnimationPlayer" type="AnimationPlayer" parent="platforms/platform2" unique_id=114355446]
libraries/ = SubResource("AnimationLibrary_iywne")
autoplay = &"move"

[node name="falling_platform" parent="platforms" unique_id=559898849 instance=ExtResource("15_ir15t")]
position = Vector2(-4, -62)

[node name="labels" type="Node" parent="." unique_id=1833961318]

[node name="snake" type="Node" parent="." unique_id=804730919]

[node name="snake3" parent="snake" unique_id=1033407199 instance=ExtResource("7_trtic")]
position = Vector2(-86, -9)

[node name="snake2" parent="snake" unique_id=1805749227 instance=ExtResource("7_kvuet")]
position = Vector2(-69, -9)

[node name="spikes" type="Node" parent="." unique_id=1328272092]

[node name="Spikes2" parent="spikes" unique_id=1907472433 instance=ExtResource("7_kvpfn")]
position = Vector2(-21, -8)
script = ExtResource("8_dinhu")

[node name="Spikes" parent="spikes" unique_id=1943162994 instance=ExtResource("7_kvpfn")]
position = Vector2(-37, -8)
script = ExtResource("8_dinhu")

[node name="Enemies" type="Node" parent="." unique_id=72329355]

[node name="enemy1" parent="Enemies" unique_id=642628308 instance=ExtResource("7_gee14")]
position = Vector2(202, -6)
collision_layer = 3

[node name="enemy2" parent="Enemies" unique_id=1668385558 instance=ExtResource("10_kvpfn")]
position = Vector2(35, -6)

[node name="enemy3" parent="Enemies" unique_id=1667306573 instance=ExtResource("10_dinhu")]
position = Vector2(123, -6)

[node name="killbox" parent="." unique_id=1386055676 instance=ExtResource("5_iywne")]
z_index = 1
position = Vector2(300, 103)

[node name="CollisionShape2D" type="CollisionShape2D" parent="killbox" unique_id=2069200937]
position = Vector2(-266, -12)
shape = SubResource("WorldBoundaryShape2D_p57ef")
script = SubResource("GDScript_0tnpc")
